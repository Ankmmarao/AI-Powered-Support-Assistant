{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\innoira-support-assistant\\\\frontend\\\\src\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(() => {\n    const stored = localStorage.getItem(\"sessionId\");\n    if (stored) return stored;\n    const newId = uuidv4();\n    localStorage.setItem(\"sessionId\", newId);\n    return newId;\n  });\n  useEffect(() => {\n    axios.get(`http://localhost:5000/api/sessions/${sessionId}`).then(res => setMessages(res.data)).catch(() => {});\n  }, [sessionId]);\n  const sendMessage = async () => {\n    if (!input) return;\n    setLoading(true);\n    const userMessage = {\n      role: \"user\",\n      content: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/chat\", {\n        sessionId,\n        message: input\n      });\n      const assistantMessage = {\n        role: \"assistant\",\n        content: res.data.reply\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      alert(\"Error generating response\");\n    }\n    setInput(\"\");\n    setLoading(false);\n  };\n  const newChat = () => {\n    const newId = uuidv4();\n    localStorage.setItem(\"sessionId\", newId);\n    setSessionId(newId);\n    setMessages([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"600px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AI Support Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: newChat,\n      children: \"New Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ccc\",\n        padding: \"10px\",\n        height: \"400px\",\n        overflowY: \"scroll\"\n      },\n      children: [messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: m.role\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), \": \", m.content]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Generating...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: input,\n      onChange: e => setInput(e.target.value),\n      style: {\n        width: \"80%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"1y5SQLfmuezjkVx2IWemxi9Ig4A=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useEffect","useState","v4","uuidv4","axios","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","input","setInput","loading","setLoading","sessionId","setSessionId","stored","localStorage","getItem","newId","setItem","get","then","res","data","catch","sendMessage","userMessage","role","content","prev","post","message","assistantMessage","reply","error","alert","newChat","style","width","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","border","padding","height","overflowY","map","m","i","value","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Downloads/innoira-support-assistant/frontend/src/Chat.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport axios from \"axios\";\n\nfunction Chat() {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const [sessionId, setSessionId] = useState(() => {\n    const stored = localStorage.getItem(\"sessionId\");\n    if (stored) return stored;\n    const newId = uuidv4();\n    localStorage.setItem(\"sessionId\", newId);\n    return newId;\n  });\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:5000/api/sessions/${sessionId}`)\n      .then(res => setMessages(res.data))\n      .catch(() => {});\n  }, [sessionId]);\n\n  const sendMessage = async () => {\n    if (!input) return;\n    setLoading(true);\n\n    const userMessage = { role: \"user\", content: input };\n    setMessages(prev => [...prev, userMessage]);\n\n    try {\n      const res = await axios.post(\n        \"http://localhost:5000/api/chat\",\n        { sessionId, message: input }\n      );\n\n      const assistantMessage = {\n        role: \"assistant\",\n        content: res.data.reply\n      };\n\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      alert(\"Error generating response\");\n    }\n\n    setInput(\"\");\n    setLoading(false);\n  };\n\n  const newChat = () => {\n    const newId = uuidv4();\n    localStorage.setItem(\"sessionId\", newId);\n    setSessionId(newId);\n    setMessages([]);\n  };\n\n  return (\n    <div style={{ width: \"600px\", margin: \"auto\" }}>\n      <h2>AI Support Assistant</h2>\n      <button onClick={newChat}>New Chat</button>\n\n      <div style={{ border: \"1px solid #ccc\", padding: \"10px\", height: \"400px\", overflowY: \"scroll\" }}>\n        {messages.map((m, i) => (\n          <div key={i}>\n            <b>{m.role}</b>: {m.content}\n          </div>\n        ))}\n        {loading && <p>Generating...</p>}\n      </div>\n\n      <input\n        value={input}\n        onChange={e => setInput(e.target.value)}\n        style={{ width: \"80%\" }}\n      />\n      <button onClick={sendMessage}>Send</button>\n    </div>\n  );\n}\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}